#include <stdio.h>
#include <ctype.h>

#define MAX 50
char st[MAX];
int top = -1;

void push(char x) {
    st[++top] = x;
}

char pop() {
    return st[top--];
}

int prec(char ch) {
    if (ch == '+' || ch == '-') return 1;
    if (ch == '*' || ch == '/') return 2;
    return 0;
}

int main() {
    char in[MAX], post[MAX];
    int i = 0, k = 0;

    printf("Enter Infix expression: ");
    scanf("%s", in);

    while (in[i] != '\0') {

        if (isalnum(in[i])) {      // operand
            post[k++] = in[i];
        }
        else if (in[i] == '(') {
            push(in[i]);
        }
        else if (in[i] == ')') {
            while (top != -1 && st[top] != '(')
                post[k++] = pop();
            pop();     // remove '('
        }
        else {   // operator
            while (top != -1 && prec(st[top]) >= prec(in[i]))
                post[k++] = pop();
            push(in[i]);
        }
        i++;
    }

    while (top != -1)
        post[k++] = pop();

    post[k] = '\0';

    printf("Postfix Expression: %s\n", post);

    return 0;
}
